<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Websocket行情数据 | API文档管理</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="https://deepexweb.s3-ap-northeast-1.amazonaws.com/upload/20210701185016801.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.1fffbea2.css" as="style"><link rel="preload" href="/assets/js/app.44a7d390.js" as="script"><link rel="preload" href="/assets/js/2.e6da7ca8.js" as="script"><link rel="preload" href="/assets/js/14.9a44f6e5.js" as="script"><link rel="prefetch" href="/assets/js/10.2173078f.js"><link rel="prefetch" href="/assets/js/11.5e613373.js"><link rel="prefetch" href="/assets/js/12.ab603d01.js"><link rel="prefetch" href="/assets/js/13.a1c2ba46.js"><link rel="prefetch" href="/assets/js/3.f166dd89.js"><link rel="prefetch" href="/assets/js/4.eb55547e.js"><link rel="prefetch" href="/assets/js/5.0155e4de.js"><link rel="prefetch" href="/assets/js/6.264b65e8.js"><link rel="prefetch" href="/assets/js/7.2a124fdc.js"><link rel="prefetch" href="/assets/js/8.525b4738.js"><link rel="prefetch" href="/assets/js/9.e925d055.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1fffbea2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="API文档管理" class="logo"> <span class="site-name can-hide">API文档管理</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/Introduction/" class="sidebar-link">介绍</a></li><li><a href="/Quickstart/" class="sidebar-link">快速开始</a></li><li><a href="/apiintro/" class="sidebar-link">API接入说明</a></li><li><a href="/accounts/" class="sidebar-link">账户相关</a></li><li><a href="/order/" class="sidebar-link">订单相关</a></li><li><a href="/market/" class="sidebar-link">行情相关</a></li><li><a href="/websocket/" aria-current="page" class="active sidebar-link">Websocket行情数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/websocket/#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/websocket/#订阅-k线行情" class="sidebar-link">订阅-K线行情</a></li><li class="sidebar-sub-header"><a href="/websocket/#订阅-24小时行情" class="sidebar-link">订阅-24小时行情</a></li><li class="sidebar-sub-header"><a href="/websocket/#订阅-市场深度行情数据" class="sidebar-link">订阅-市场深度行情数据</a></li><li class="sidebar-sub-header"><a href="/websocket/#订阅-实时成交信息" class="sidebar-link">订阅-实时成交信息</a></li><li class="sidebar-sub-header"><a href="/websocket/#请求-k线历史数据" class="sidebar-link">请求-K线历史数据</a></li><li class="sidebar-sub-header"><a href="/websocket/#请求-成交历史数据" class="sidebar-link">请求-成交历史数据</a></li><li class="sidebar-sub-header"><a href="/websocket/#请求-首页24行情数据" class="sidebar-link">请求-首页24行情数据</a></li><li class="sidebar-sub-header"><a href="/websocket/#open-api-demo-java" class="sidebar-link">open-api Demo（java）</a></li><li class="sidebar-sub-header"><a href="/websocket/#ws-api-demo-java" class="sidebar-link">ws-api Demo (java)</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="websocket行情数据"><a href="#websocket行情数据" class="header-anchor">#</a> Websocket行情数据</h1> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <h3 id="接入url"><a href="#接入url" class="header-anchor">#</a> 接入URL</h3> <p><code>wss://ws.deepex.live/kline-api/ws</code></p> <h3 id="数据压缩"><a href="#数据压缩" class="header-anchor">#</a> 数据压缩</h3> <p>WebSocket 行情接口返回的所有数据都进行了 GZIP 压缩，需要 client 在收到数据之后解压。</p> <h3 id="心跳消息"><a href="#心跳消息" class="header-anchor">#</a> 心跳消息</h3> <p>当用户的Websocket客户端连接到DEEP的Websocket服务器后，服务器会定期（当前设为5秒）向其发送ping消息并包含一整数值如下：</p> <p><code>{&quot;ping&quot;: 1595935723334}</code></p> <p>当用户的Websocket客户端接收到此心跳消息后，应返回pong消息并包含同一整数值：</p> <p><code>{&quot;pong&quot;: 1595935723334}</code></p> <blockquote><p>订阅</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sub&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;params&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_$base$quote_kline_1min&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>当Websocket服务器连续3次发送了<code>ping</code>消息却没有收到任何一次<code>pong</code>消息返回后，服务器将主动断开与此客户端的连接。</p> <blockquote><p>订阅 响应</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event_rep&quot;</span><span class="token operator">:</span><span class="token string">&quot;subed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_$base$quote_kline_1min&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="订阅主题"><a href="#订阅主题" class="header-anchor">#</a> 订阅主题</h3> <p>成功建立与Websocket服务器的连接后，Websocket客户端发送如下请求以订阅特定主题。</p> <p><code>{ &quot;event&quot;: &quot;sub&quot;, &quot;params&quot;:{ &quot;channel&quot;:&quot;channel name&quot;, &quot;cb_id&quot;:&quot;id generated by client&quot; } }</code></p> <p>成功订阅后，Websocket客户端将收到确认。之后, 一旦所订阅的主题有更新，Websocket客户端将收到服务器推送的更新消息（push）</p> <blockquote><p>取消订阅</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unsub&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;params&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_$base$quote_kline_1min&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>{ &quot;event&quot;: &quot;subed&quot;, &quot;channel&quot;:&quot;channel name&quot;, &quot;cb_id&quot;:&quot;id generated by client&quot;, &quot;ts&quot;: &quot;timestamp&quot; &quot;status&quot;: &quot;subscribe status&quot; }</code></p> <h3 id="取消订阅"><a href="#取消订阅" class="header-anchor">#</a> 取消订阅</h3> <p>客户端取消订阅的格式：</p> <p><code>{ &quot;event&quot;: &quot;unsub&quot;, &quot;params&quot;:{ &quot;channel&quot;:&quot;channel name&quot;, &quot;cb_id&quot;:&quot;id generated by client&quot; } }</code></p> <h2 id="订阅-k线行情"><a href="#订阅-k线行情" class="header-anchor">#</a> 订阅-K线行情</h2> <h3 id="channel"><a href="#channel" class="header-anchor">#</a> channel</h3> <p><code>market_$symbol_kline_$period</code></p> <blockquote><p>订阅</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;sub&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;params&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_kline_5min&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="订阅参数"><a href="#订阅参数" class="header-anchor">#</a> 订阅参数</h3> <table><thead><tr><th>参数</th> <th>数据类型</th> <th>是否必须</th> <th>描述</th> <th>取值范围</th></tr></thead> <tbody><tr><td>channel</td> <td>string</td> <td>是</td> <td>主题</td> <td>$symbol: 交易对名称<br>btcusdt,ethusdt ...<br> <br> <br>$period: K线周期<br> <br>1min,5min,15min,30min,60min,1day,1week,1month<br></td></tr> <tr><td>cb_id</td> <td>string</td> <td>是</td> <td>自定义id</td> <td></td></tr></tbody></table> <blockquote><p>响应</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_kline_5min&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//请求时间</span>
    <span class="token property">&quot;tick&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1506602880</span><span class="token punctuation">,</span><span class="token comment">//时间刻度起始值</span>
        <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">123.1221</span><span class="token punctuation">,</span><span class="token comment">//交易额</span>
        <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span><span class="token number">1212.12211</span><span class="token punctuation">,</span><span class="token comment">//交易量</span>
        <span class="token property">&quot;open&quot;</span><span class="token operator">:</span><span class="token number">2233.22</span><span class="token punctuation">,</span><span class="token comment">//开盘价</span>
        <span class="token property">&quot;close&quot;</span><span class="token operator">:</span><span class="token number">1221.11</span><span class="token punctuation">,</span><span class="token comment">//收盘价</span>
        <span class="token property">&quot;high&quot;</span><span class="token operator">:</span><span class="token number">22322.22</span><span class="token punctuation">,</span><span class="token comment">//最高价</span>
        <span class="token property">&quot;low&quot;</span><span class="token operator">:</span><span class="token number">2321.22</span><span class="token comment">//最低价</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="更新数据字段"><a href="#更新数据字段" class="header-anchor">#</a> 更新数据字段</h3> <table><thead><tr><th>字段</th> <th>数据类型</th> <th>描述</th></tr></thead> <tbody><tr><td>id</td> <td>long</td> <td>时间刻度起始值</td></tr> <tr><td>amount</td> <td>float</td> <td>交易额</td></tr> <tr><td>vol</td> <td>float</td> <td>交易量</td></tr> <tr><td>open</td> <td>float</td> <td>开盘价</td></tr> <tr><td>close</td> <td>float</td> <td>收盘价</td></tr> <tr><td>high</td> <td>float</td> <td>最高价</td></tr> <tr><td>low</td> <td>float</td> <td>最低价</td></tr></tbody></table> <h2 id="订阅-24小时行情"><a href="#订阅-24小时行情" class="header-anchor">#</a> 订阅-24小时行情</h2> <h3 id="channel-2"><a href="#channel-2" class="header-anchor">#</a> channel</h3> <p><code>maket_$symbol_ticker</code></p> <blockquote><p>订阅</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;sub&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;params&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_ticker&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10002&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="订阅参数-2"><a href="#订阅参数-2" class="header-anchor">#</a> 订阅参数</h3> <table><thead><tr><th>参数</th> <th>数据类型</th> <th>是否必须</th> <th>描述</th> <th>取值范围</th></tr></thead> <tbody><tr><td>channel</td> <td>string</td> <td>是</td> <td>主题</td> <td>$symbol: 交易对名称 <br>btcusdt,ethusdt ...<br></td></tr> <tr><td>cb_id</td> <td>string</td> <td>是</td> <td>自定义id</td> <td></td></tr></tbody></table> <blockquote><p>响应</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_ticker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//请求时间</span>
    <span class="token property">&quot;tick&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1506584998</span><span class="token punctuation">,</span><span class="token comment">//冗余，无实际意义，时间戳</span>
        <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">123.1221</span><span class="token punctuation">,</span><span class="token comment">//交易额</span>
        <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span><span class="token number">1212.12211</span><span class="token punctuation">,</span><span class="token comment">//交易量</span>
        <span class="token property">&quot;open&quot;</span><span class="token operator">:</span><span class="token number">2233.22</span><span class="token punctuation">,</span><span class="token comment">//开盘价</span>
        <span class="token property">&quot;close&quot;</span><span class="token operator">:</span><span class="token number">1221.11</span><span class="token punctuation">,</span><span class="token comment">//收盘价</span>
        <span class="token property">&quot;high&quot;</span><span class="token operator">:</span><span class="token number">22322.22</span><span class="token punctuation">,</span><span class="token comment">//最高价</span>
        <span class="token property">&quot;low&quot;</span><span class="token operator">:</span><span class="token number">2321.22</span><span class="token punctuation">,</span><span class="token comment">//最低价</span>
        <span class="token property">&quot;rose&quot;</span><span class="token operator">:</span><span class="token number">-0.2922</span><span class="token punctuation">,</span><span class="token comment">//涨幅</span>
        <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//数据产生时间</span>
        <span class="token property">&quot;lower_frame&quot;</span><span class="token operator">:</span><span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="更新数据字段-2"><a href="#更新数据字段-2" class="header-anchor">#</a> 更新数据字段</h3> <table><thead><tr><th>字段</th> <th>数据类型</th> <th>描述</th></tr></thead> <tbody><tr><td>id</td> <td>long</td> <td>时间刻度起始值</td></tr> <tr><td>amount</td> <td>float</td> <td>交易额</td></tr> <tr><td>vol</td> <td>float</td> <td>交易量</td></tr> <tr><td>open</td> <td>float</td> <td>开盘价</td></tr> <tr><td>close</td> <td>float</td> <td>收盘价</td></tr> <tr><td>high</td> <td>float</td> <td>最高价</td></tr> <tr><td>low</td> <td>float</td> <td>最低价</td></tr></tbody></table> <h2 id="订阅-市场深度行情数据"><a href="#订阅-市场深度行情数据" class="header-anchor">#</a> 订阅-市场深度行情数据</h2> <h3 id="channel-3"><a href="#channel-3" class="header-anchor">#</a> channel</h3> <p><code>maket_$symbol_depth_$step</code></p> <blockquote><p>订阅</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;sub&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;params&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_depth_step0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;asks&quot;</span><span class="token operator">:</span><span class="token number">150</span><span class="token punctuation">,</span>
        <span class="token property">&quot;bids&quot;</span><span class="token operator">:</span><span class="token number">150</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="订阅参数-3"><a href="#订阅参数-3" class="header-anchor">#</a> 订阅参数</h3> <table><thead><tr><th>参数</th> <th>数据类型</th> <th>是否必须</th> <th>描述</th> <th>取值范围</th></tr></thead> <tbody><tr><td>channel</td> <td>string</td> <td>是</td> <td>主题</td> <td>$symbol: 交易对名称 <br>btcusdt,ethusdt ...<br> <br> <br>$step: 聚合精度<br> <br> step0: 不聚合 <br> <br>step1: 系统精度可配置<br> <br>step2: 系统精度可配置<br></td></tr> <tr><td>cb_id</td> <td>string</td> <td>是</td> <td>自定义id</td> <td></td></tr> <tr><td>asks</td> <td>integer</td> <td>否</td> <td>卖盘档位</td> <td></td></tr> <tr><td>bids</td> <td>integer</td> <td>否</td> <td>买盘档位</td> <td></td></tr></tbody></table> <h3 id="更新数据字段-3"><a href="#更新数据字段-3" class="header-anchor">#</a> 更新数据字段</h3> <ul><li>注：第一次订阅成功会立刻返回一次全量数据， 另外server也会定期推个全量数据给前端  避免数据出问题</li></ul> <blockquote><p>全量盘口响应</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_depth_step0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//请求时间</span>
    <span class="token property">&quot;tick&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;asks&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token comment">//卖盘</span>
            <span class="token punctuation">[</span><span class="token number">22112.22</span><span class="token punctuation">,</span><span class="token number">0.9332</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token number">22112.21</span><span class="token punctuation">,</span><span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;buys&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token comment">//买盘</span>
            <span class="token punctuation">[</span><span class="token number">22111.22</span><span class="token punctuation">,</span><span class="token number">0.9332</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token number">22111.21</span><span class="token punctuation">,</span><span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="全量盘口数据"><a href="#全量盘口数据" class="header-anchor">#</a> 全量盘口数据</h4> <ul><li>可直接替换原有盘口</li></ul> <table><thead><tr><th>字段</th> <th>数据类型</th> <th>描述</th></tr></thead> <tbody><tr><td>asks</td> <td>数组对象</td> <td>卖盘深度</td></tr> <tr><td>buys</td> <td>数组对象</td> <td>买盘深度</td></tr></tbody></table> <blockquote><p>增量盘口响应</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_depth_step0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//请求时间</span>
    <span class="token property">&quot;tick&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;asks&quot;</span><span class="token punctuation">,</span> 买卖盘方向  asks： 卖盘  buys<span class="token operator">:</span> 买盘  
        <span class="token property">&quot;price&quot;</span> <span class="token operator">:</span> <span class="token number">133.55</span><span class="token punctuation">,</span>  盘口对应的某个价格段
        <span class="token property">&quot;volume&quot;</span> <span class="token operator">:</span> <span class="token number">44.22</span>   价格段对应的数量
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="增量盘口数据"><a href="#增量盘口数据" class="header-anchor">#</a> 增量盘口数据</h4> <ul><li>只需要替换价格对应的数量即可， volume=0时删除， price与原有盘口某个价格段的price相等时更新volume, 新的price直接新增</li></ul> <table><thead><tr><th>字段</th> <th>数据类型</th> <th>描述</th></tr></thead> <tbody><tr><td>side</td> <td>string</td> <td>买卖盘方向 <br>asks: 卖盘<br> <br>buys<br></td></tr> <tr><td>price</td> <td>float</td> <td>价格</td></tr> <tr><td>volume</td> <td>float</td> <td>数量</td></tr></tbody></table> <h2 id="订阅-实时成交信息"><a href="#订阅-实时成交信息" class="header-anchor">#</a> 订阅-实时成交信息</h2> <h3 id="channel-4"><a href="#channel-4" class="header-anchor">#</a> channel</h3> <p><code>maket_$symbol_trade_ticker</code></p> <blockquote><p>订阅</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;sub&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;params&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_trade_ticker&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="订阅参数-4"><a href="#订阅参数-4" class="header-anchor">#</a> 订阅参数</h3> <table><thead><tr><th>参数</th> <th>数据类型</th> <th>是否必须</th> <th>描述</th> <th>取值范围</th></tr></thead> <tbody><tr><td>channel</td> <td>string</td> <td>是</td> <td>主题</td> <td>$symbol: 交易对名称<br>btcusdt,ethusdt ...<br></td></tr> <tr><td>cb_id</td> <td>string</td> <td>是</td> <td>自定义id</td> <td></td></tr></tbody></table> <blockquote><p>响应</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_trade_ticker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//请求时间</span>
    <span class="token property">&quot;tick&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">12121</span><span class="token punctuation">,</span><span class="token comment">//data中最大交易ID</span>
        <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//data中最大时间</span>
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">12121</span><span class="token punctuation">,</span><span class="token comment">//交易ID</span>
                <span class="token property">&quot;side&quot;</span><span class="token operator">:</span><span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span><span class="token comment">//买卖方向buy,sell</span>
                <span class="token property">&quot;price&quot;</span><span class="token operator">:</span><span class="token number">32.233</span><span class="token punctuation">,</span><span class="token comment">//单价</span>
                <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span><span class="token number">232</span><span class="token punctuation">,</span><span class="token comment">//数量</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">323</span><span class="token punctuation">,</span><span class="token comment">//总额</span>
                <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//数据产生时间</span>
                <span class="token property">&quot;ds&quot;</span><span class="token operator">:</span>'<span class="token number">2017</span><span class="token number">-09</span><span class="token number">-10</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">21</span>'
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">12120</span><span class="token punctuation">,</span><span class="token comment">//交易ID</span>
                <span class="token property">&quot;side&quot;</span><span class="token operator">:</span><span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span><span class="token comment">//买卖方向buy,sell</span>
                <span class="token property">&quot;price&quot;</span><span class="token operator">:</span><span class="token number">32.233</span><span class="token punctuation">,</span><span class="token comment">//单价</span>
                <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span><span class="token number">232</span><span class="token punctuation">,</span><span class="token comment">//数量</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">323</span><span class="token punctuation">,</span><span class="token comment">//总额</span>
                <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//数据产生时间</span>
                <span class="token property">&quot;ds&quot;</span><span class="token operator">:</span>'<span class="token number">2017</span><span class="token number">-09</span><span class="token number">-10</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">21</span>'
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="更新数据字段-4"><a href="#更新数据字段-4" class="header-anchor">#</a> 更新数据字段</h3> <table><thead><tr><th>字段</th> <th>数据类型</th> <th>描述</th></tr></thead> <tbody><tr><td>id</td> <td>long</td> <td>交易id</td></tr> <tr><td>side</td> <td>string</td> <td>买卖盘方向 <br>asks: 卖盘<br> <br>buys<br></td></tr> <tr><td>price</td> <td>float</td> <td>成交价格</td></tr> <tr><td>vol</td> <td>float</td> <td>成交数量</td></tr> <tr><td>amount</td> <td>float</td> <td>成交总额</td></tr> <tr><td>ts</td> <td>long</td> <td>成交时间</td></tr> <tr><td>ds</td> <td>string</td> <td>日期</td></tr></tbody></table> <h2 id="请求-k线历史数据"><a href="#请求-k线历史数据" class="header-anchor">#</a> 请求-K线历史数据</h2> <h3 id="channel-5"><a href="#channel-5" class="header-anchor">#</a> channel</h3> <p><code>maket_$symbol_kline_$period</code></p> <ul><li>增加请求参数endIdx，pageSize（最多300，默认300条数据）,如果endIdx为空，则返回最近300条历史数据</li></ul> <blockquote><p>订阅</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;req&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;params&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_kline_5min&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10002&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;since&quot;</span><span class="token operator">:</span><span class="token string">&quot;1506602880&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="订阅参数-5"><a href="#订阅参数-5" class="header-anchor">#</a> 订阅参数</h3> <table><thead><tr><th>参数</th> <th>数据类型</th> <th>是否必须</th> <th>描述</th> <th>取值范围</th></tr></thead> <tbody><tr><td>channel</td> <td>string</td> <td>是</td> <td>主题</td> <td>$symbol: 交易对名称<br>btcusdt,ethusdt ...<br> <br> <br>$period: K线周期<br> <br>1min,5min,15min,30min,60min,1day,1week,1month<br></td></tr> <tr><td>cb_id</td> <td>string</td> <td>是</td> <td>自定义id</td> <td></td></tr> <tr><td>since</td> <td>long</td> <td>否</td> <td>自定义id</td> <td>since缺省时返回最新300条，有值时返回大于since的最多1小时数据，since有强校验，不能早于当前1小时  since取到59</td></tr></tbody></table> <blockquote><p>响应</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event_rep&quot;</span><span class="token operator">:</span><span class="token string">&quot;rep&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_kline_5min&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;since&quot;</span><span class="token operator">:</span><span class="token string">&quot;1506602880&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//请求时间</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1506602880</span><span class="token punctuation">,</span><span class="token comment">//时间刻度起始值</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">123.1221</span><span class="token punctuation">,</span><span class="token comment">//交易额</span>
            <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span><span class="token number">1212.12211</span><span class="token punctuation">,</span><span class="token comment">//交易量</span>
            <span class="token property">&quot;open&quot;</span><span class="token operator">:</span><span class="token number">2233.22</span><span class="token punctuation">,</span><span class="token comment">//开盘价</span>
            <span class="token property">&quot;close&quot;</span><span class="token operator">:</span><span class="token number">1221.11</span><span class="token punctuation">,</span><span class="token comment">//收盘价</span>
            <span class="token property">&quot;high&quot;</span><span class="token operator">:</span><span class="token number">22322.22</span><span class="token punctuation">,</span><span class="token comment">//最高价</span>
            <span class="token property">&quot;low&quot;</span><span class="token operator">:</span><span class="token number">2321.22</span><span class="token comment">//最低价</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1506602880</span><span class="token punctuation">,</span><span class="token comment">//时间刻度起始值</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">123.1221</span><span class="token punctuation">,</span><span class="token comment">//交易额</span>
            <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span><span class="token number">1212.12211</span><span class="token punctuation">,</span><span class="token comment">//交易量</span>
            <span class="token property">&quot;open&quot;</span><span class="token operator">:</span><span class="token number">2233.22</span><span class="token punctuation">,</span><span class="token comment">//开盘价</span>
            <span class="token property">&quot;close&quot;</span><span class="token operator">:</span><span class="token number">1221.11</span><span class="token punctuation">,</span><span class="token comment">//收盘价</span>
            <span class="token property">&quot;high&quot;</span><span class="token operator">:</span><span class="token number">22322.22</span><span class="token punctuation">,</span><span class="token comment">//最高价</span>
            <span class="token property">&quot;low&quot;</span><span class="token operator">:</span><span class="token number">2321.22</span><span class="token comment">//最低价</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="更新数据字段-5"><a href="#更新数据字段-5" class="header-anchor">#</a> 更新数据字段</h3> <table><thead><tr><th>字段</th> <th>数据类型</th> <th>描述</th></tr></thead> <tbody><tr><td>id</td> <td>long</td> <td>交易id</td></tr> <tr><td>vol</td> <td>float</td> <td>交易量</td></tr> <tr><td>amount</td> <td>float</td> <td>交易额</td></tr> <tr><td>open</td> <td>long</td> <td>开盘价</td></tr> <tr><td>close</td> <td>long</td> <td>收盘价</td></tr> <tr><td>high</td> <td>long</td> <td>最高价</td></tr> <tr><td>low</td> <td>long</td> <td>最低价</td></tr></tbody></table> <h2 id="请求-成交历史数据"><a href="#请求-成交历史数据" class="header-anchor">#</a> 请求-成交历史数据</h2> <h3 id="channel-6"><a href="#channel-6" class="header-anchor">#</a> channel</h3> <p><code>maket_$symbol_trade_ticker</code></p> <blockquote><p>订阅</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;req&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;params&quot;</span><span class="token operator">:</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_$base$quote_trade_ticker&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;自定义&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;top&quot;</span><span class="token operator">:</span><span class="token number">200</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="订阅参数-6"><a href="#订阅参数-6" class="header-anchor">#</a> 订阅参数</h3> <table><thead><tr><th>参数</th> <th>数据类型</th> <th>是否必须</th> <th>描述</th> <th>取值范围</th></tr></thead> <tbody><tr><td>channel</td> <td>string</td> <td>是</td> <td>主题</td> <td>$symbol: 交易对名称<br>btcusdt,ethusdt ...<br></td></tr> <tr><td>cb_id</td> <td>string</td> <td>是</td> <td>自定义id</td> <td></td></tr></tbody></table> <blockquote><p>响应</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;event_rep&quot;</span><span class="token operator">:</span><span class="token string">&quot;rep&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;market_btcusdt_trade_ticker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cb_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;top&quot;</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token comment">//最大支持200</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">12121</span><span class="token punctuation">,</span><span class="token comment">//交易ID</span>
            <span class="token property">&quot;side&quot;</span><span class="token operator">:</span><span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span><span class="token comment">//买卖方向buy,sell</span>
            <span class="token property">&quot;price&quot;</span><span class="token operator">:</span><span class="token number">32.233</span><span class="token punctuation">,</span><span class="token comment">//单价</span>
            <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span><span class="token number">232</span><span class="token punctuation">,</span><span class="token comment">//数量</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">323</span><span class="token punctuation">,</span><span class="token comment">//总额</span>
            <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token comment">//数据产生时间</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">12120</span><span class="token punctuation">,</span><span class="token comment">//交易ID</span>
            <span class="token property">&quot;side&quot;</span><span class="token operator">:</span><span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span><span class="token comment">//买卖方向buy,sell</span>
            <span class="token property">&quot;price&quot;</span><span class="token operator">:</span><span class="token number">32.233</span><span class="token punctuation">,</span><span class="token comment">//单价</span>
            <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span><span class="token number">232</span><span class="token punctuation">,</span><span class="token comment">//数量</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">323</span><span class="token punctuation">,</span><span class="token comment">//总额</span>
            <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span><span class="token number">1506584998239</span><span class="token punctuation">,</span><span class="token comment">//数据产生时间</span>
            <span class="token property">&quot;ds&quot;</span><span class="token operator">:</span>'<span class="token number">2017</span><span class="token number">-09</span><span class="token number">-10</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">21</span>'
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="更新数据字段-6"><a href="#更新数据字段-6" class="header-anchor">#</a> 更新数据字段</h3> <table><thead><tr><th>字段</th> <th>数据类型</th> <th>描述</th></tr></thead> <tbody><tr><td>id</td> <td>long</td> <td>交易id</td></tr> <tr><td>side</td> <td>string</td> <td>买卖盘方向 <br>asks: 卖盘<br> <br>buys<br></td></tr> <tr><td>price</td> <td>float</td> <td>成交价格</td></tr> <tr><td>vol</td> <td>float</td> <td>成交数量</td></tr> <tr><td>amount</td> <td>float</td> <td>成交总额</td></tr> <tr><td>ts</td> <td>long</td> <td>成交时间</td></tr></tbody></table> <h2 id="请求-首页24行情数据"><a href="#请求-首页24行情数据" class="header-anchor">#</a> 请求-首页24行情数据</h2> <h3 id="channel-7"><a href="#channel-7" class="header-anchor">#</a> channel</h3> <p><code>review</code></p> <blockquote><p>订阅</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;req&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;params&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;channel&quot;</span><span class="token operator">:</span><span class="token string">&quot;review&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="订阅参数-7"><a href="#订阅参数-7" class="header-anchor">#</a> 订阅参数</h3> <table><thead><tr><th>参数</th> <th>数据类型</th> <th>是否必须</th> <th>描述</th> <th>取值范围</th></tr></thead> <tbody><tr><td>channel</td> <td>string</td> <td>是</td> <td>主题</td> <td>review</td></tr></tbody></table> <blockquote><p>响应</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;event_rep&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rep&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;review&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;bchbtc&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">115.968833484</span><span class="token punctuation">,</span>
            <span class="token property">&quot;close&quot;</span><span class="token operator">:</span> <span class="token number">0.07956</span><span class="token punctuation">,</span>
            <span class="token property">&quot;high&quot;</span><span class="token operator">:</span> <span class="token number">0.086323</span><span class="token punctuation">,</span>
            <span class="token property">&quot;low&quot;</span><span class="token operator">:</span> <span class="token number">0.079251</span><span class="token punctuation">,</span>
            <span class="token property">&quot;open&quot;</span><span class="token operator">:</span> <span class="token number">0.086323</span><span class="token punctuation">,</span>
            <span class="token property">&quot;rose&quot;</span><span class="token operator">:</span> <span class="token number">-0.07834528</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span> <span class="token number">1393.247</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;btcusdt&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">115.968833484</span><span class="token punctuation">,</span>
            <span class="token property">&quot;close&quot;</span><span class="token operator">:</span> <span class="token number">11110.07956</span><span class="token punctuation">,</span>
            <span class="token property">&quot;high&quot;</span><span class="token operator">:</span> <span class="token number">11120.086323</span><span class="token punctuation">,</span>
            <span class="token property">&quot;low&quot;</span><span class="token operator">:</span> <span class="token number">11000.079251</span><span class="token punctuation">,</span>
            <span class="token property">&quot;open&quot;</span><span class="token operator">:</span> <span class="token number">10999.086323</span><span class="token punctuation">,</span>
            <span class="token property">&quot;rose&quot;</span><span class="token operator">:</span> <span class="token number">110.07834528</span><span class="token punctuation">,</span>
            <span class="token property">&quot;vol&quot;</span><span class="token operator">:</span> <span class="token number">111393.247</span>
        <span class="token punctuation">}</span>          
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="更新数据字段-7"><a href="#更新数据字段-7" class="header-anchor">#</a> 更新数据字段</h3> <table><thead><tr><th>字段</th> <th>数据类型</th> <th>描述</th></tr></thead> <tbody><tr><td>amount</td> <td>long</td> <td>成交额</td></tr> <tr><td>close</td> <td>float</td> <td>收盘价</td></tr> <tr><td>high</td> <td>float</td> <td>最高价</td></tr> <tr><td>low</td> <td>float</td> <td>最低价</td></tr> <tr><td>open</td> <td>float</td> <td>开盘价</td></tr> <tr><td>rose</td> <td>float</td> <td>涨跌幅</td></tr> <tr><td>vol</td> <td>float</td> <td>成交量</td></tr></tbody></table> <h2 id="open-api-demo-java"><a href="#open-api-demo-java" class="header-anchor">#</a> open-api Demo（java）</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>exchange<span class="token punctuation">.</span>stats<span class="token punctuation">.</span>action</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">UnsupportedEncodingException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span><span class="token class-name">MessageDigest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span><span class="token class-name">NoSuchAlgorithmException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">TreeMap</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>httpclient<span class="token punctuation">.</span></span><span class="token class-name">HttpClient</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>httpclient<span class="token punctuation">.</span>methods<span class="token punctuation">.</span></span><span class="token class-name">GetMethod</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>httpclient<span class="token punctuation">.</span>methods<span class="token punctuation">.</span></span><span class="token class-name">PostMethod</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOUtils</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * @param args
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">/** 4个变量，api_key,secret_key */</span> 
 <span class="token class-name">String</span> api_key <span class="token operator">=</span> <span class="token string">&quot;9750*****************65d1&quot;</span><span class="token punctuation">;</span>
 <span class="token class-name">String</span> secret_key <span class="token operator">=</span> <span class="token string">&quot;1c16******************2982&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">/** 封装需要签名的参数 */</span>
        <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        params<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;api_key&quot;</span><span class="token punctuation">,</span> api_key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        params<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/** 拼接签名字符串，md5签名 */</span>
        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entrys <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> param <span class="token operator">:</span> entrys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">/** 去掉签名字段 */</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>param<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;sign&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>openapi<span class="token punctuation">.</span>deepex<span class="token punctuation">.</span>info 

            <span class="token comment">/** 空参数不参与签名 */</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>param<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>param<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>param<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>secret_key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sign <span class="token operator">=</span> <span class="token function">getMD5</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        params<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;sign&quot;</span><span class="token punctuation">,</span> sign<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">/** http请求 */</span>
        <span class="token class-name">String</span> resultJson <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;https://openapi.deepex.live/open/api/get_trades?symbol=btcusdt&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>resultJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 通过post来提交数据，带参数的方法
     *
     * @param url    请求地址
     * @param params 参数
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">HttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">PostMethod</span> method <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PostMethod</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//设定请求头的样式 </span>
            method<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/x-www-form-urlencoded;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>params <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> params<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> params<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    method<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">int</span> code <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">executeMethod</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> code <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">InputStream</span> in <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">getResponseBodyAsStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                str <span class="token operator">=</span> <span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// TODO Auto-generated catch block </span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 通过get来提交数据，带参数的方法
     *
     * @param url    请求地址
     * @param params 参数
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>params <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> params<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> params<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                        url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    url <span class="token operator">+=</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    x<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">HttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;url:::&quot;</span> <span class="token operator">+</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">GetMethod</span> method <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetMethod</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//设定请求头的样式 </span>
            method<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/x-www-form-urlencoded;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> code <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">executeMethod</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> code <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">InputStream</span> in <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">getResponseBodyAsStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                str <span class="token operator">=</span> <span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// TODO Auto-generated catch block </span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 获取String的MD5值
     *
     * @param info 字符串
     * @return 该字符串的MD5值
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getMD5</span><span class="token punctuation">(</span><span class="token class-name">String</span> info<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//获取 MessageDigest 对象，参数为 MD5 字符串，表示这是一个 MD5 算法（其他还有 SHA1 算法等）： </span>
            <span class="token class-name">MessageDigest</span> md5 <span class="token operator">=</span> <span class="token class-name">MessageDigest</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&quot;MD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">//update(byte[])方法，输入原数据 </span>
            <span class="token comment">//类似StringBuilder对象的append()方法，追加模式，属于一个累计更改的过程 </span>
            md5<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">//digest()被调用后,MessageDigest对象就被重置，即不能连续再次调用该方法计算原数据的MD5值。可以手动调用reset()方法重置输入源。 </span>
            <span class="token comment">//digest()返回值16位长度的哈希值，由byte[]承接 </span>
            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> md5Array <span class="token operator">=</span> md5<span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">//byte[]通常我们会转化为十六进制的32位长度的字符串来使用,本文会介绍三种常用的转换方法 </span>
            <span class="token keyword">return</span> <span class="token function">bytesToHex</span><span class="token punctuation">(</span>md5Array<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchAlgorithmException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnsupportedEncodingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">bytesToHex</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> md5Array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> strBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> md5Array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token number">0xff</span> <span class="token operator">&amp;</span> md5Array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> hexString <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>hexString<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//如果是十六进制的0f，默认只显示f，此时要补上0</span>
                strBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>hexString<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                strBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>hexString<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> strBuilder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br></div></div><h2 id="ws-api-demo-java"><a href="#ws-api-demo-java" class="header-anchor">#</a> ws-api Demo (java)</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
<span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span>URI<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span></span><span class="token class-name">ByteBuffer</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span></span><span class="token class-name">CharBuffer</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">Charset</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">CharsetDecoder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span>cert<span class="token punctuation">.</span></span><span class="token class-name">CertificateException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span>cert<span class="token punctuation">.</span></span><span class="token class-name">X509Certificate</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>zip<span class="token punctuation">.</span></span><span class="token class-name">GZIPInputStream</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>net<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span><span class="token class-name">SSLContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>net<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span><span class="token class-name">TrustManager</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>net<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span><span class="token class-name">X509TrustManager</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>java_websocket<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">DefaultSSLWebSocketClientFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>java_websocket<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">WebSocketClient</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>java_websocket<span class="token punctuation">.</span>drafts<span class="token punctuation">.</span></span><span class="token class-name">Draft</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>java_websocket<span class="token punctuation">.</span>drafts<span class="token punctuation">.</span></span><span class="token class-name">Draft_17</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>java_websocket<span class="token punctuation">.</span>handshake<span class="token punctuation">.</span></span><span class="token class-name">ServerHandshake</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author 鲫鱼哥 DateTime:2018年11月22日 下午9:25:20 
 * 建议使用的websocket client版本 
 * &lt;dependency&gt; 
 * &lt;groupId&gt;org.java-websocket&lt;/groupId&gt; 
 * &lt;artifactId&gt;Java-WebSocket&lt;/artifactId&gt; 
 * &lt;version&gt;1.3.0&lt;/version&gt; 
 * &lt;/dependency&gt; 
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WsTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="token comment">//wsurl </span>
            <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;wss://ws.deepex.live/kline-api/ws&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//历史数据请求参数 </span>
            <span class="token class-name">String</span> reqParam <span class="token operator">=</span> <span class="token string">&quot;{&quot;</span>event<span class="token string">&quot;:&quot;</span>req<span class="token string">&quot;,&quot;</span>params<span class="token string">&quot;:{&quot;</span>channel<span class="token string">&quot;:&quot;</span>market_btcusdt_trade_ticker<span class="token string">&quot;,&quot;</span>cb_id<span class="token string">&quot;:&quot;</span>btcusdt<span class="token string">&quot;,&quot;</span>top<span class="token string">&quot;:150}}&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//订阅参数 </span>
            <span class="token class-name">String</span> subParam <span class="token operator">=</span> <span class="token string">&quot;{&quot;</span>event<span class="token string">&quot;:&quot;</span>sub<span class="token string">&quot;,&quot;</span>params<span class="token string">&quot;:{&quot;</span>channel<span class="token string">&quot;:&quot;</span>market_btcusdt_trade_ticker<span class="token string">&quot;,&quot;</span>cb_id<span class="token string">&quot;:&quot;</span>btcusdt<span class="token string">&quot;,&quot;</span>top<span class="token string">&quot;:150}}&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//初始化请求历史数据 </span>
            <span class="token class-name">WebSocketUtils</span> wsc <span class="token operator">=</span> <span class="token class-name">WebSocketUtils</span><span class="token punctuation">.</span><span class="token function">executeWebSocket</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> reqParam<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//订阅实时数据 </span>
            wsc<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>subParam<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//线程不结束，等待新的消息，一般一分钟左右会有新的成交返回</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">WebSocketUtils</span> <span class="token keyword">extends</span> <span class="token class-name">WebSocketClient</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">WebSocketUtils</span> wsclient <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> msg <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">WebSocketUtils</span><span class="token punctuation">(</span><span class="token class-name">URI</span> serverURI<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>serverURI<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">WebSocketUtils</span><span class="token punctuation">(</span><span class="token class-name">URI</span> serverUri<span class="token punctuation">,</span> <span class="token class-name">Draft</span> draft<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>serverUri<span class="token punctuation">,</span> draft<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">WebSocketUtils</span><span class="token punctuation">(</span><span class="token class-name">URI</span> serverUri<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> headers<span class="token punctuation">,</span> <span class="token keyword">int</span> connecttimeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>serverUri<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Draft_17</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> headers<span class="token punctuation">,</span> connecttimeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOpen</span><span class="token punctuation">(</span><span class="token class-name">ServerHandshake</span> serverHandshake<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;链接已建立&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;收到字符串消息&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClose</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token keyword">boolean</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;链接已关闭&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;报错啦&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token class-name">ByteBuffer</span> socketBuffer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> marketStr <span class="token operator">=</span> <span class="token function">byteBufferToString</span><span class="token punctuation">(</span>socketBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> market <span class="token operator">=</span> <span class="token function">uncompress</span><span class="token punctuation">(</span>marketStr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>market<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;ping&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;收到消息ping：&quot;</span><span class="token operator">+</span>market<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">String</span> tmp <span class="token operator">=</span> market<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;ping&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    wsclient<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>market<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;ping&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    msg <span class="token operator">=</span> market<span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;收到消息：&quot;</span><span class="token operator">+</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getWebSocketHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
            <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> headers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> headers<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">trustAllHosts</span><span class="token punctuation">(</span><span class="token class-name">WebSocketUtils</span> appClient<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">TrustManager</span><span class="token punctuation">[</span><span class="token punctuation">]</span> trustAllCerts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrustManager</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token class-name">X509TrustManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span>cert<span class="token punctuation">.</span></span>X509Certificate</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getAcceptedIssuers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span>cert<span class="token punctuation">.</span></span>X509Certificate</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkClientTrusted</span><span class="token punctuation">(</span><span class="token class-name">X509Certificate</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chain<span class="token punctuation">,</span> <span class="token class-name">String</span> authType<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CertificateException</span> <span class="token punctuation">{</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkServerTrusted</span><span class="token punctuation">(</span><span class="token class-name">X509Certificate</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chain<span class="token punctuation">,</span> <span class="token class-name">String</span> authType<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CertificateException</span> <span class="token punctuation">{</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">SSLContext</span> sc <span class="token operator">=</span> <span class="token class-name">SSLContext</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&quot;TLS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                sc<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> trustAllCerts<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span>SecureRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                appClient<span class="token punctuation">.</span><span class="token function">setWebSocketFactory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DefaultSSLWebSocketClientFactory</span><span class="token punctuation">(</span>sc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">WebSocketUtils</span> <span class="token function">executeWebSocket</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span><span class="token class-name">String</span> sendMsg<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
            wsclient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocketUtils</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">URI</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getWebSocketHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">trustAllHosts</span><span class="token punctuation">(</span>wsclient<span class="token punctuation">)</span><span class="token punctuation">;</span>
            wsclient<span class="token punctuation">.</span><span class="token function">connectBlocking</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            wsclient<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>sendMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> wsclient<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// buffer 转String </span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">byteBufferToString</span><span class="token punctuation">(</span><span class="token class-name">ByteBuffer</span> buffer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">CharBuffer</span> charBuffer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Charset</span> charset <span class="token operator">=</span> <span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;ISO-8859-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">CharsetDecoder</span> decoder <span class="token operator">=</span> charset<span class="token punctuation">.</span><span class="token function">newDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                charBuffer <span class="token operator">=</span> decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                buffer<span class="token punctuation">.</span><span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> charBuffer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 解压缩 </span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">uncompress</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> str<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">ByteArrayOutputStream</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ByteArrayInputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;ISO-8859-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">GZIPInputStream</span> gunzip <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GZIPInputStream</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> n<span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">=</span> gunzip<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/market/" class="prev">
        行情相关
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.44a7d390.js" defer></script><script src="/assets/js/2.e6da7ca8.js" defer></script><script src="/assets/js/14.9a44f6e5.js" defer></script>
  </body>
</html>
