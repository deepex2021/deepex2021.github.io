(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{374:function(t,v,_){"use strict";_.r(v);var a=_(44),r=Object(a.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"api接入说明"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#api接入说明"}},[t._v("#")]),t._v(" API接入说明")]),t._v(" "),_("h2",{attrs:{id:"请求格式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#请求格式"}},[t._v("#")]),t._v(" 请求格式")]),t._v(" "),_("p",[t._v("所有的API请求都是restful，目前只有两种方法：GET和POST。")]),t._v(" "),_("ul",[_("li",[t._v("GET请求：所有的参数都在路径参数里")]),t._v(" "),_("li",[t._v("POST请求，所有参数以JSON格式发送在请求主体（body）里")])]),t._v(" "),_("p",[t._v("一个合法的请求由以下几部分组成：")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("方法请求地址：即访问服务器地址。https://openapi.deepex.live/open/api/create_order")])]),t._v(" "),_("li",[_("p",[t._v("必须和可选参数。")]),t._v(" "),_("p",[t._v("以下几个参数是所有需要验签接口必须要提供的：")]),t._v(" "),_("ul",[_("li",[t._v("API key： 即用户申请的API Key中的Access Key。其字段名为api_key")]),t._v(" "),_("li",[t._v("请求时间：即发起请求的时间。其字段名字为time")]),t._v(" "),_("li",[t._v("签名：签名计算得出的值。其字段名字为sign")])])])]),t._v(" "),_("p",[t._v("所有请求都必须包含以下Header：")]),t._v(" "),_("ul",[_("li",[t._v("ACCESS-KEY API KEY作为一个字符串。")]),t._v(" "),_("li",[t._v("ACCESS-SIGN 使用base64编码签名（请参阅签名消息）。")]),t._v(" "),_("li",[t._v("ACCESS-TIMESTAMP 作为您的请求的时间戳。")]),t._v(" "),_("li",[t._v("Content-Type  需要统一设置为:'application/x-www-form-urlencoded’。")])]),t._v(" "),_("h2",{attrs:{id:"返回格式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#返回格式"}},[t._v("#")]),t._v(" 返回格式")]),t._v(" "),_("p",[t._v("所有的接口返回都是JSON格式。在JSON的第一层有3个字段code，msg和data。前两个字段表示请求状态和描述，实际的业务数据在data字段里。")]),t._v(" "),_("div",{staticClass:"language-json line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-json"}},[_("code",[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"suc"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// per API response data in nested JSON object")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br"),_("span",{staticClass:"line-number"},[t._v("2")]),_("br"),_("span",{staticClass:"line-number"},[t._v("3")]),_("br"),_("span",{staticClass:"line-number"},[t._v("4")]),_("br"),_("span",{staticClass:"line-number"},[t._v("5")]),_("br"),_("span",{staticClass:"line-number"},[t._v("6")]),_("br")])]),_("p",[t._v("以下是一个返回格式的样例：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("数据类型")]),t._v(" "),_("th",[t._v("描述")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("code")]),t._v(" "),_("td",[t._v("string")]),t._v(" "),_("td",[t._v("返回状态")])]),t._v(" "),_("tr",[_("td",[t._v("msg")]),t._v(" "),_("td",[t._v("string")]),t._v(" "),_("td",[t._v("状态或错误描述")])]),t._v(" "),_("tr",[_("td",[t._v("data")]),t._v(" "),_("td",[t._v("object")]),t._v(" "),_("td",[t._v("业务数据")])])])]),t._v(" "),_("h2",{attrs:{id:"错误信息"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#错误信息"}},[t._v("#")]),t._v(" 错误信息")]),t._v(" "),_("p",[_("strong",[t._v("HTTP状态码")])]),t._v(" "),_("p",[t._v("HTTP常见的错误码如下：")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("400 Bad Request – Invalid request forma 请求格式无效")])]),t._v(" "),_("li",[_("p",[t._v("401 Unauthorized – Invalid API Key 无效的API Key")])]),t._v(" "),_("li",[_("p",[t._v("403 Forbidden – You do not have access to the requested resource 请求无权限")])]),t._v(" "),_("li",[_("p",[t._v("404 Not Found 没有找到请求")])]),t._v(" "),_("li",[_("p",[t._v("429 Too Many Requests 请求太频繁被系统限流")])]),t._v(" "),_("li",[_("p",[t._v("500 Internal Server Error – We had a problem with our server 服务器内部错误")])])]),t._v(" "),_("p",[_("strong",[t._v("业务状态码")])]),t._v(" "),_("p",[t._v("如果失败，response body 带有错误描述信息, 对应的状态码描述如下：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("状态码")]),t._v(" "),_("th",[t._v("说明")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("0")]),t._v(" "),_("td",[t._v("成功")]),t._v(" "),_("td",[t._v("code=0 成功， code >0 失败")])]),t._v(" "),_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("系统错误")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("2")]),t._v(" "),_("td",[t._v("参数错误")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("3")]),t._v(" "),_("td",[t._v("用户未登录")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("4")]),t._v(" "),_("td",[t._v("余额不足")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("5")]),t._v(" "),_("td",[t._v("下单失败")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("6")]),t._v(" "),_("td",[t._v("数量小于最小值")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("7")]),t._v(" "),_("td",[t._v("数量大于最大值")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("8")]),t._v(" "),_("td",[t._v("订单取消失败")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("9")]),t._v(" "),_("td",[t._v("交易被冻结")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("11")]),t._v(" "),_("td",[t._v("短信验证码错误或过期")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("12")]),t._v(" "),_("td",[t._v("未知的代币代号")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("14")]),t._v(" "),_("td",[t._v("验证码错误")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("19")]),t._v(" "),_("td",[t._v("可用余额不足")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("21")]),t._v(" "),_("td",[t._v("谷歌验证码错误或过期")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("22")]),t._v(" "),_("td",[t._v("订单不存在")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("25")]),t._v(" "),_("td",[t._v("价格或数量精度超过最大限制")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("26")]),t._v(" "),_("td",[t._v("用户不存在")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("28")]),t._v(" "),_("td",[t._v("邮箱验证码错误或过期")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("31")]),t._v(" "),_("td",[t._v("价格或者金额小于最小值")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("32")]),t._v(" "),_("td",[t._v("价格超出当日涨跌停范围，无法下单")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("33")]),t._v(" "),_("td",[t._v("订单委托量超出最大限制")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("34")]),t._v(" "),_("td",[t._v("下单超过频率限制")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("10069")]),t._v(" "),_("td",[t._v("涨跌停限制币对,不允许下市价单")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("100100")]),t._v(" "),_("td",[t._v("用户名或密码错误")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("100101")]),t._v(" "),_("td",[t._v("用户登陆锁定两小时")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("100102")]),t._v(" "),_("td",[t._v("用户被冻结")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("101115")]),t._v(" "),_("td",[t._v("当前交易量超出用户单日交易上限")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("101117")]),t._v(" "),_("td",[t._v("当前币种不允许市价交易")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("101999")]),t._v(" "),_("td",[t._v("该币种未开启")]),t._v(" "),_("td")])])]),t._v(" "),_("h2",{attrs:{id:"标准规范"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#标准规范"}},[t._v("#")]),t._v(" 标准规范")]),t._v(" "),_("h3",{attrs:{id:"时间戳"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#时间戳"}},[t._v("#")]),t._v(" "),_("span",{attrs:{id:"b1"}},[t._v("时间戳")])]),t._v(" "),_("p",[t._v("除非另外指定，API中的所有时间戳均以微秒为单位返回。")]),t._v(" "),_("p",[t._v("请求签名中的ACCESS-TIMESTAMP的单位是秒，允许用小数表示更精确的时间。请求的时间戳必须在API服务时间的30秒内，否则请求将被视为过期并被拒绝。如果本地服务器时间和API服务器时间之间存在较大的偏差，那么我们建议您使用通过查询API服务器时间来更新http header。")]),t._v(" "),_("h3",{attrs:{id:"例子"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#例子"}},[t._v("#")]),t._v(" "),_("span",{attrs:{id:"b2"}},[t._v("例子")])]),t._v(" "),_("p",[_("code",[t._v("1524801032573")])]),t._v(" "),_("h3",{attrs:{id:"数字"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数字"}},[t._v("#")]),t._v(" "),_("span",{attrs:{id:"b3"}},[t._v("数字")])]),t._v(" "),_("p",[t._v("为了保持跨平台时精度的完整性，十进制数字作为字符串返回。建议您在发起请求时也将数字转换为字符串以避免截断和精度错误。")]),t._v(" "),_("p",[t._v("整数（如交易编号和顺序）不加引号。")]),t._v(" "),_("h3",{attrs:{id:"限流"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#限流"}},[t._v("#")]),t._v(" "),_("span",{attrs:{id:"b4"}},[t._v("限流")])]),t._v(" "),_("p",[t._v("如果请求过于频繁系统将自动限制请求，并在http header中返回429 too many requests状态码。")]),t._v(" "),_("p",[t._v("REST API")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("公共接口：我们通过IP限制公共接口的调用：每2秒最多6个请求。")])]),t._v(" "),_("li",[_("p",[t._v("私人接口：我们通过用户ID限制私人接口的调用：每秒最多10个请求。")])]),t._v(" "),_("li",[_("p",[t._v("某些接口的特殊限制在具体的接口上注明")])])])])}),[],!1,null,null,null);v.default=r.exports}}]);